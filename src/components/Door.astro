---
interface Props {
  side: 'left' | 'right';
  id: string;
}

const { side, id } = Astro.props;
const isLeft = side === 'left';
---

<div
  id={id}
  class={`w-1/2 h-full relative bg-[#F2F4CB] border-${isLeft ? 'r' : 'l'} border-[#D8DAB0] transform-style-3d transition-transform duration-1000 ease-in-out origin-${isLeft ? 'left' : 'right'}`}
>
  <!-- Marco exterior de la puerta -->
  <div class="absolute inset-0 border-[12px] border-[#F2F4CB] bg-[#F2F4CB] shadow-2xl">
    
    <!-- Panel de vidrio principal -->
    <div class="absolute inset-2 bg-black/60 backdrop-blur-[1px] border border-black/20 overflow-hidden shadow-inner">
      <!-- Reflejo del vidrio (Glossy) -->
      <div class="absolute inset-0 bg-gradient-to-tr from-white/5 via-white/10 to-transparent opacity-40 pointer-events-none"></div>
      
      <!-- Marco interior del vidrio -->
      <div class="absolute inset-0 border-[16px] border-[#F2F4CB]"></div>

      <!-- Divisiones de la ventana (Grid) -->
      <div class="absolute inset-0 flex flex-col">
        <div class="flex-1 border-b-[8px] border-[#F2F4CB]"></div>
        <div class="flex-1 border-b-[8px] border-[#F2F4CB]"></div>
        <div class="flex-1"></div>
      </div>
      
      <!-- ZÃ³calo inferior -->
      <div class="absolute bottom-0 left-0 right-0 h-32 bg-[#F2F4CB] border-t-[8px] border-[#E2E4BB] flex items-center justify-center">
        <div class="w-2/3 h-16 border border-[#D8DAB0]/30 bg-[#F2F4CB] shadow-inner"></div>
      </div>
    </div>

    <!-- Manija (Handle) -->
    <div class={`absolute top-1/2 ${isLeft ? 'right-6' : 'left-6'} -translate-y-1/2 flex flex-col items-center z-20`}>
      <!-- Base de la manija -->
      <div class="w-2 h-32 bg-gradient-to-b from-amber-700 via-amber-600 to-amber-800 rounded-full shadow-lg border border-amber-900/50"></div>
      <!-- Soportes -->
      <div class="absolute top-2 w-4 h-4 bg-amber-800 rounded-full shadow-md -z-10"></div>
      <div class="absolute bottom-2 w-4 h-4 bg-amber-800 rounded-full shadow-md -z-10"></div>
    </div>

    <!-- Placa de empujar/tirar (Decorativa) -->
    <div class={`absolute top-[45%] ${isLeft ? 'right-16' : 'left-16'} w-12 h-24 border border-[#D8DAB0]/40 opacity-40`}></div>

  </div>
</div>

<style>
  .transform-style-3d {
    transform-style: preserve-3d;
  }
</style>